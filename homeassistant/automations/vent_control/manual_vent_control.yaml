# Manual Vent Control Trigger
# Manually trigger vent control for testing

- id: 'manual_vent_control'
  alias: 'Manual Vent Control'
  description: 'Manually trigger vent control for testing'
  triggers:
    - platform: event
      event_type: manual_vent_control
  action:
    - service: system_log.write
      data:
        message: 'Manual vent control triggered'
        level: info
    - service: script.control_all_room_vents
      data:
        target_temp: '{{ state_attr("climate.ecobee_thermostat", "temperature") }}'
        hvac_mode: '{{ state_attr("climate.ecobee_thermostat", "hvac_mode") }}'
  mode: single
